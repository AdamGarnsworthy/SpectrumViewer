<template id='gainMatchReport'>
    <div class='sectionWrapper item'>
        <div class='col-md-12'>
            <label for='{{id}}calibrationSource'>Calibration Source:</label>
            <select id='{{id}}calibrationSource' class='rowElement'>
                <option selected value='Co-60'><sup>60</sup>Co</option>
                <option value='Eu-152'><sup>152</sup>Eu</option>
                <option value='custom'>Custom</option>
            </select>

            <label for='{{id}}peak1'>First Peak (keV):</label>
            <input type='number' id='{{id}}peak1' class='rowElement' value=1173></input>
            <label for='{{id}}peak1'>Second Peak (keV):</label>
            <input type='number' id='{{id}}peak2' class='rowElement' value=1332></input>
            <button type="button" class="btn btn-primary" id='{{id}}fitAll' disabled>
                <span id='{{id}}snapPin' class="glyphicon glyphicon-flash" aria-hidden="true"></span> Automate Gain Match
            </button>
            <span id='waitMessage'>Spectra downloading, please wait...</span>
            <div class="progress">
              <div id='{{id}}progress' class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>

            <table id='{{id}}gainMatchingResults' class='table gainTable'>
                <tr>
                    <td>Detector</td>
                    <td>Peak 1 Channel</td>
                    <td>Peak 2 Channel</td>
                    <td>Intercept</td>
                    <td>Slope</td>
                </tr>
                {{# detectors}}
                    <tr id='{{id}}{{.}}row'>
                        <td>{{.}}</td>
                        <td id='{{id}}{{.}}chan1'>-</td>
                        <td id='{{id}}{{.}}chan2'>-</td>
                        <td id='{{id}}{{.}}intercept'>-</td>
                        <td id='{{id}}{{.}}slope'>-</td>
                    </tr>
                {{/ detectors}}
            </table>

            <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Write calibration to ODB
            </button>

        </div>
    </div>

    <!--are you sure modal-->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Change values in ODB?</h4>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to change the gain and offset values for all GRIFFIN detectors in the ODB? There is no undo.</p>
                    <input type='checkbox' id='{{id}}yesDefinitelyWriteODB'></input>
                    <label for='{{id}}yesDefinitelyWriteODB'>I'm very sure.</label>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" id='dismissODBmodal'>
                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> Abort
                    </button>
                    <button type="button" class="btn btn-default" id='{{id}}writeToODB' disabled>
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Write
                    </button>
                </div>
            </div>
        </div>
    </div>
</template>