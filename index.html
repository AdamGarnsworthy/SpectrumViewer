<!DOCTYPE html>
<html lang="en">
    <head>
    	<script src='scripts/mustache.js' type="text/javascript"></script>
    	<script src='scripts/ultralight.js' type="text/javascript"></script>
        <script src='scripts/easeljs-0.7.0.min.js' type="text/javascript"></script>
        <script src='scripts/gammaSpectrum.js' type="text/javascript"></script>
        <script src='scripts/fitit.js' type="text/javascript"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    	<script src='scripts/spectrumViewer.js' type="text/javascript"></script>
        <script src='scripts/helpers.js' type="text/javascript"></script>
        <script src='scripts/plotSpectraHelpers.js' type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="css/custom.css"/>
        <script src='http://grsmid00.triumf.ca:9093/?cmd=getSpectrumList'></script>

        <script id="body" type="text/template">
            {{> header}}

            <!--Plotting-->
            <div id='plotRegion' class='sectionWrapper'>
                <div id='plotWrap' class='col-md-8 item plotRegion'>
                    {{> plotSpectra}}
                </div>
                <div id='plotMenu' class='col-md-3 item plotSelector'>
                    {{> plotSelector}}
                </div>
            </div>

            <!--Plot Manupulation-->
            <div class='sectionWrapper'>
                <div id='fitResults' class='col-md-8 item'>

                    <div class='sectionWrapper'>
                        <h4>Plot Control</h4>

                        <div class='col-md-9'>
                            <button type="button" class="btn btn-default btn-lg" id='fitMode' engaged='0'>
                                <span class="glyphicon glyphicon-equalizer" aria-hidden="true"></span> Fit a new Peak
                            </button>
                            <span id='fitInstructions' class='hidden'>Click on either side of the peak to perform a fit.</span>
                        </div>
                        
                        <div class='col-md-2'>
                            <button type="button" class="btn btn-default btn-lg" id='deleteAll'>
                                <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> Remove all plots
                            </button>
                        </div>
                    </div>

                    <div class='sectionWrapper'>
                        <table id='fitTable' class="table">
                            <tr>
                                <td class='spectrumNames'>Spectra</td>
                                <td class='center uiCol'>Fit Target</td>
                                <td>Fit Results</td>
                                <td class='deleteCol'></td>
                            </tr>
                        </table>
                    </div>

                </div>
            </div>

            {{> footer}}
        </script>

    	<script type='text/javascript'>
	    	spectrumViewerUL = new ultralight(['header', 'footer', 'plotSpectra', 'plotSelector', 'fitRow'], dataSetup, pageLoad)
            spectrumViewerUL.fetchTemplates();
	    </script>

    </head>
</html>