<!DOCTYPE html>
<html lang="en">
    <head>
    	<script src='scripts/mustache.js' type="text/javascript"></script>
    	<script src='scripts/ultralight.js' type="text/javascript"></script>
        <script src='scripts/easeljs-0.7.0.min.js' type="text/javascript"></script>
        <script src='scripts/gammaSpectrum.js' type="text/javascript"></script>
        <script src='scripts/fitit.js' type="text/javascript"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    	<script src='scripts/spectrumViewer.js' type="text/javascript"></script>
        <script src='scripts/helpers.js' type="text/javascript"></script>
        <script src='scripts/plotSpectraHelpers.js' type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="css/custom.css"/>
        <script src='http://grsmid00.triumf.ca:9093/?cmd=getSpectrumList'></script>

        <script id="body" type="text/template">
            {{> plotList}}

            <!--Plotting-->
            <div id='plotRegion' class='sectionWrapper item'>
                <div id='plotWrap' class='col-md-10 plotRegion'>
                    <canvas id='plotID'></canvas>
                </div>
                <div class='col-md-2'>
                    {{> plotControlVertical}}
                </div>
            </div>

            <!--Plot Manupulation-->
            <div class='sectionWrapper'>
                <div id='fitResults' class='col-md-8 item'>

                    <div class='sectionWrapper'>
                        <h4>Plot Control</h4>

                        <div class='col-md-9'>
                            <button type="button" class="btn btn-default btn-lg" id='fitMode' engaged='0'>
                                <span id='fitBadge' class="glyphicon glyphicon-equalizer" aria-hidden="true"></span> Fit a new Peak
                            </button>
                            <span id='fitInstructions' class='hidden'>Click on either side of the peak to perform a fit.</span>
                        </div>
                        
                        <div class='col-md-2'>
                            <button type="button" class="btn btn-default btn-lg" id='deleteAll'>
                                <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> Remove all plots
                            </button>
                        </div>
                    </div>

                    <div class='sectionWrapper'>
                        <table id='fitTable' class="table">
                            <tr>
                                <td class='spectrumNames'>Spectra & Plot Color</td>
                                <td class='center uiCol'>Fit Target</td>
                                <td>Fit Results</td>
                                <td class='dropFitsCol center'>Drop Last Fit</td>
                                <td class='zeroCol center'>Zero</td>
                                <td class='deleteCol center'>Delete</td>
                            </tr>
                        </table>
                    </div>

                </div>
            </div>

            {{> footer}}
        </script>

    	<script type='text/javascript'>
	    	spectrumViewerUL = new ultralight(['footer', 'plotControlVertical', 'plotSelector', 'fitRow', 'plotList'], dataSetup, pageLoad)
            spectrumViewerUL.fetchTemplates();
	    </script>

    </head>
</html>